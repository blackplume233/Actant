---
generated: true
---

<!-- GENERATED BY wiki-updater — DO NOT EDIT MANUALLY -->

# 雇员调度器

> 给 Agent 装上闹钟，让它自动干活。

传统 Agent 需要人类主动发指令。雇员调度器让 Agent 像一个"数字雇员"一样 7×24 自动运行。

## 三种输入源

| 输入 | 触发方式 | 场景 |
|------|---------|------|
| **Heartbeat** | 固定间隔 | 定期巡检 |
| **Cron** | Cron 表达式 | 每天 9 点生成日报 |
| **Hook** | 事件触发 | Agent 崩溃时自动处理 |

## 配置示例

```json
{
  "schedule": {
    "heartbeat": { "intervalMs": 3600000, "prompt": "检查系统状态" },
    "cron": [
      { "pattern": "0 9 * * 1-5", "prompt": "生成日报", "timezone": "Asia/Shanghai" }
    ],
    "hooks": [
      { "eventName": "process:crash", "prompt": "检查崩溃原因并尝试修复", "priority": 10 }
    ]
  }
}
```

Hook 中的 `eventName` 使用 [Hook 事件系统](/features/hooks) 中定义的事件名称（如 `process:crash`、`agent:created`）。

每个输入产生一个带优先级的任务，进入队列按优先级串行执行。

## 使用

```bash
# 以 acp-service 模式创建（支持自动重启）
actant agent create employee -t scheduled-agent --launch-mode acp-service
actant agent start employee

# 查看调度状态
actant schedule list employee

# 手动触发
actant agent dispatch employee -m "立即执行"
```

> **注意**：`dispatch` 使用 `-m` / `--message` 参数（不是 `--prompt`）。

## 优先级

| 优先级 | 值 | 来源 |
|--------|------|------|
| `critical` | 最高 | 手动 dispatch 指定 |
| `high` | 高 | Hook 触发 |
| `normal` | 默认 | Cron / Heartbeat |
| `low` | 低 | 手动指定 |

```bash
actant agent dispatch employee -m "紧急任务" -p critical
```

---

另见 [Hook 事件系统](/features/hooks) 和 [打造雇员 Agent](/recipes/employee-agent)。
