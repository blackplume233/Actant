---
generated: true
---

<!-- GENERATED BY wiki-updater — DO NOT EDIT MANUALLY -->

# CLI 命令

> 一个 `actant` 命令控制一切。

`actant` CLI 提供 15 个命令组、68 个子命令，覆盖平台全部功能。所有命令支持 `-f json` 输出。

## 命令总表

| 组 | 常用命令 | 说明 |
|----|---------|------|
| **daemon** | `start` `stop` `status` | 守护进程 |
| **template** | `list` `show` `load` `validate` | 模板管理 |
| **agent** | `create` `start` `stop` `destroy` `run` `chat` `list` `status` `dispatch` `tasks` `logs` | Agent 生命周期 + 交互 + 调度 |
| **skill** | `list` `add` `remove` `show` `export` | 技能组件 |
| **prompt** | （同 skill） | 提示词组件 |
| **mcp** | （同 skill） | MCP 组件 |
| **workflow** | （同 skill） | 工作流组件 |
| **plugin** | （同 skill） | 插件组件 |
| **source** | `list` `add` `remove` `sync` `validate` | 组件源 |
| **preset** | `list` `show` `apply` | 预设 |
| **schedule** | `list` | 调度查看 |
| **proxy** | `<name>` `--lease` | ACP 代理 |
| **self-update** | `--check` `--dry-run` | 自更新 |

> **Session 管理** — `session.create` / `session.prompt` / `session.cancel` / `session.close` / `session.list` 目前仅作为 RPC 方法提供，供 ACP Proxy 内部使用，尚未暴露为 CLI 子命令。

## Agent 交互命令详解

```bash
# 生命周期
actant agent create my-agent -t code-review-agent
actant agent start my-agent
actant agent stop my-agent
actant agent destroy my-agent --force

# 一次性运行
actant agent run my-agent --prompt "审查 src/ 中的错误处理"

# 交互对话
actant agent chat my-agent

# 调度相关
actant agent dispatch my-agent -m "立即执行任务"    # 手动派发任务
actant agent tasks my-agent                        # 查看任务队列
actant agent logs my-agent                         # 查看执行日志
```

## 输出格式

```bash
actant agent list              # 表格（默认，人类友好）
actant agent list -f json      # JSON（脚本解析）
actant agent list -f quiet     # 最小输出（管道）
```

## REPL 模式

不带子命令直接运行 `actant` 进入交互模式：

```
$ actant
actant> template list
actant> agent create test -t code-review-agent
actant> exit
```

## CI 集成

```bash
actant daemon start
RESULT=$(actant agent run ci-bot --prompt "审查代码" -f json)
echo $RESULT | jq '.result'
actant agent destroy ci-bot --force
actant daemon stop
```

退出码：`0` = 成功，非 `0` = 失败。

---

完整 API 参考见仓库 `docs/stage/v0.2.2/api-surface.md`（62 个 RPC 方法 + 68 个 CLI 命令）。
