{
  "version": "v0.1.0",
  "date": "2026-02-22T00:22:08.416Z",
  "zodSchemas": {
    "template": [
      {
        "name": "McpServerRefSchema",
        "kind": "object",
        "fields": [
          {
            "name": "name",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "command",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "args",
            "zodType": "z.array(z.string()).optional().default([])"
          },
          {
            "name": "env",
            "zodType": "z.record(z.string(), z.string()).optional().default({})"
          }
        ]
      },
      {
        "name": "DomainContextSchema",
        "kind": "object",
        "fields": [
          {
            "name": "skills",
            "zodType": "z.array(z.string()).optional().default([])"
          },
          {
            "name": "prompts",
            "zodType": "z.array(z.string()).optional().default([])"
          },
          {
            "name": "mcpServers",
            "zodType": "z.array(McpServerRefSchema).optional().default([])"
          },
          {
            "name": "workflow",
            "zodType": "z.string().optional()"
          },
          {
            "name": "subAgents",
            "zodType": "z.array(z.string()).optional().default([])"
          },
          {
            "name": "plugins",
            "zodType": "z.array(z.string()).optional().default([])"
          }
        ]
      },
      {
        "name": "AgentBackendSchema",
        "kind": "object",
        "fields": [
          {
            "name": "config",
            "zodType": "z.record(z.string(), z.unknown()).optional()"
          }
        ]
      },
      {
        "name": "ModelProviderSchema",
        "kind": "object",
        "fields": [
          {
            "name": "config",
            "zodType": "z.record(z.string(), z.unknown()).optional()"
          }
        ]
      },
      {
        "name": "InitializerStepSchema",
        "kind": "object",
        "fields": [
          {
            "name": "config",
            "zodType": "z.record(z.string(), z.unknown()).optional()"
          }
        ]
      },
      {
        "name": "InitializerSchema",
        "kind": "object",
        "fields": [
          {
            "name": "steps",
            "zodType": "z.array(InitializerStepSchema).min(1)"
          }
        ]
      },
      {
        "name": "AgentTemplateSchema",
        "kind": "object",
        "fields": [
          {
            "name": "name",
            "zodType": "z.string().min(1).max(100)"
          },
          {
            "name": "version",
            "zodType": "z.string().regex(/^\\d+\\.\\d+\\.\\d+$/, \"Must be semver format (e.g. 1.0.0)\")"
          },
          {
            "name": "description",
            "zodType": "z.string().optional()"
          },
          {
            "name": "backend",
            "zodType": "AgentBackendSchema"
          },
          {
            "name": "provider",
            "zodType": "ModelProviderSchema"
          },
          {
            "name": "domainContext",
            "zodType": "DomainContextSchema"
          },
          {
            "name": "initializer",
            "zodType": "InitializerSchema.optional()"
          },
          {
            "name": "schedule",
            "zodType": "ScheduleConfigSchema.optional()"
          },
          {
            "name": "metadata",
            "zodType": "z.record(z.string(), z.string()).optional()"
          }
        ]
      }
    ],
    "instanceMeta": [
      {
        "name": "AgentStatusSchema",
        "kind": "enum",
        "fields": [
          {
            "name": "_values",
            "zodType": "created,starting,running,stopping,stopped,error,crashed,"
          }
        ]
      },
      {
        "name": "LaunchModeSchema",
        "kind": "enum",
        "fields": [
          {
            "name": "_values",
            "zodType": "direct,acp-background,acp-service,one-shot,"
          }
        ]
      },
      {
        "name": "ProcessOwnershipSchema",
        "kind": "enum",
        "fields": [
          {
            "name": "_values",
            "zodType": "managed,external"
          }
        ]
      },
      {
        "name": "WorkspacePolicySchema",
        "kind": "enum",
        "fields": [
          {
            "name": "_values",
            "zodType": "persistent,ephemeral"
          }
        ]
      },
      {
        "name": "AgentInstanceMetaSchema",
        "kind": "object",
        "fields": [
          {
            "name": "id",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "name",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "templateName",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "templateVersion",
            "zodType": "z.string().regex(/^\\d+\\.\\d+\\.\\d+$/)"
          },
          {
            "name": "backendType",
            "zodType": "AgentBackendTypeSchema.default(\"cursor\")"
          },
          {
            "name": "backendConfig",
            "zodType": "z.record(z.string(), z.unknown()).optional()"
          },
          {
            "name": "status",
            "zodType": "AgentStatusSchema"
          },
          {
            "name": "launchMode",
            "zodType": "LaunchModeSchema"
          },
          {
            "name": "workspacePolicy",
            "zodType": "WorkspacePolicySchema.default(\"persistent\")"
          },
          {
            "name": "processOwnership",
            "zodType": "ProcessOwnershipSchema.default(\"managed\")"
          },
          {
            "name": "createdAt",
            "zodType": "z.string().datetime()"
          },
          {
            "name": "updatedAt",
            "zodType": "z.string().datetime()"
          },
          {
            "name": "pid",
            "zodType": "z.number().int().positive().optional()"
          },
          {
            "name": "metadata",
            "zodType": "z.record(z.string(), z.string()).optional()"
          }
        ]
      }
    ],
    "schedule": [
      {
        "name": "HeartbeatConfigSchema",
        "kind": "object",
        "fields": [
          {
            "name": "intervalMs",
            "zodType": "z.number().min(1000)"
          },
          {
            "name": "prompt",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "priority",
            "zodType": "z.enum([\"low\", \"normal\", \"high\", \"critical\"]).optional()"
          }
        ]
      },
      {
        "name": "CronConfigSchema",
        "kind": "object",
        "fields": [
          {
            "name": "pattern",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "prompt",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "timezone",
            "zodType": "z.string().optional()"
          },
          {
            "name": "priority",
            "zodType": "z.enum([\"low\", \"normal\", \"high\", \"critical\"]).optional()"
          }
        ]
      },
      {
        "name": "HookConfigSchema",
        "kind": "object",
        "fields": [
          {
            "name": "eventName",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "prompt",
            "zodType": "z.string().min(1)"
          },
          {
            "name": "priority",
            "zodType": "z.enum([\"low\", \"normal\", \"high\", \"critical\"]).optional()"
          }
        ]
      },
      {
        "name": "ScheduleConfigSchema",
        "kind": "object",
        "fields": [
          {
            "name": "heartbeat",
            "zodType": "HeartbeatConfigSchema.optional()"
          },
          {
            "name": "cron",
            "zodType": "z.array(CronConfigSchema).optional().default([])"
          },
          {
            "name": "hooks",
            "zodType": "z.array(HookConfigSchema).optional().default([])"
          }
        ]
      }
    ]
  },
  "typeInterfaces": {
    "agent": [
      {
        "name": "AgentInstanceMeta",
        "fields": [
          {
            "name": "id",
            "optional": false,
            "type": "string"
          },
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "templateName",
            "optional": false,
            "type": "string"
          },
          {
            "name": "templateVersion",
            "optional": false,
            "type": "string"
          },
          {
            "name": "backendType",
            "optional": false,
            "type": "AgentBackendType"
          },
          {
            "name": "backendConfig",
            "optional": true,
            "type": "Record<string, unknown>"
          },
          {
            "name": "status",
            "optional": false,
            "type": "AgentStatus"
          },
          {
            "name": "launchMode",
            "optional": false,
            "type": "LaunchMode"
          },
          {
            "name": "workspacePolicy",
            "optional": false,
            "type": "WorkspacePolicy"
          },
          {
            "name": "processOwnership",
            "optional": false,
            "type": "ProcessOwnership"
          },
          {
            "name": "createdAt",
            "optional": false,
            "type": "string"
          },
          {
            "name": "updatedAt",
            "optional": false,
            "type": "string"
          },
          {
            "name": "pid",
            "optional": true,
            "type": "number"
          },
          {
            "name": "metadata",
            "optional": true,
            "type": "Record<string, string>"
          }
        ],
        "raw": "id: string;\r\n  name: string;\r\n  templateName: string;\r\n  templateVersion: string;\r\n  /** Backend type (cursor / claude-code / custom). Set from template when instance is created. */\r\n  backendType: AgentBackendType;\r\n  /** Backend config from template (e.g. executablePath). Persisted so launcher can use without template registry. */\r\n  backendConfig?: Record<string, unknown>;\r\n  status: AgentStatus;\r\n  launchMode: LaunchMode;\r\n  /** Workspace lifecycle policy. \"persistent\" survives across spawns; \"ephemeral\" can be cleaned up after task. */\r\n  workspacePolicy: WorkspacePolicy;\r\n  /** Who owns/manages the agent process. \"managed\" = AgentCraft, \"external\" = caller. */\r\n  processOwnership: ProcessOwnership;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  pid?: number;\r\n  metadata?: Record<string, string>;"
      },
      {
        "name": "AgentStatus",
        "fields": [],
        "raw": "| \"created\"\r\n  | \"starting\"\r\n  | \"running\"\r\n  | \"stopping\"\r\n  | \"stopped\"\r\n  | \"error\"\r\n  | \"crashed\""
      },
      {
        "name": "LaunchMode",
        "fields": [],
        "raw": "| \"direct\"\r\n  | \"acp-background\"\r\n  | \"acp-service\"\r\n  | \"one-shot\""
      },
      {
        "name": "ProcessOwnership",
        "fields": [],
        "raw": "\"managed\" | \"external\""
      },
      {
        "name": "WorkspacePolicy",
        "fields": [],
        "raw": "\"persistent\" | \"ephemeral\""
      },
      {
        "name": "ResolveResult",
        "fields": [
          {
            "name": "workspaceDir",
            "optional": false,
            "type": "string"
          },
          {
            "name": "command",
            "optional": false,
            "type": "string"
          },
          {
            "name": "args",
            "optional": false,
            "type": "string[]"
          },
          {
            "name": "env",
            "optional": true,
            "type": "Record<string, string>"
          },
          {
            "name": "instanceName",
            "optional": false,
            "type": "string"
          },
          {
            "name": "backendType",
            "optional": false,
            "type": "AgentBackendType"
          },
          {
            "name": "created",
            "optional": false,
            "type": "boolean"
          }
        ],
        "raw": "workspaceDir: string;\r\n  command: string;\r\n  args: string[];\r\n  env?: Record<string, string>;\r\n  instanceName: string;\r\n  backendType: AgentBackendType;\r\n  /** Whether a new instance was created by this resolve call. */\r\n  created: boolean;"
      },
      {
        "name": "DetachResult",
        "fields": [
          {
            "name": "ok",
            "optional": false,
            "type": "boolean"
          },
          {
            "name": "workspaceCleaned",
            "optional": false,
            "type": "boolean"
          }
        ],
        "raw": "ok: boolean;\r\n  workspaceCleaned: boolean;"
      }
    ],
    "template": [
      {
        "name": "AgentTemplate",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "version",
            "optional": false,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          },
          {
            "name": "backend",
            "optional": false,
            "type": "AgentBackendConfig"
          },
          {
            "name": "provider",
            "optional": false,
            "type": "ModelProviderConfig"
          },
          {
            "name": "domainContext",
            "optional": false,
            "type": "DomainContextConfig"
          },
          {
            "name": "initializer",
            "optional": true,
            "type": "InitializerConfig"
          },
          {
            "name": "schedule",
            "optional": true,
            "type": "{ heartbeat?: { intervalMs: number"
          },
          {
            "name": "prompt",
            "optional": false,
            "type": "string"
          },
          {
            "name": "priority",
            "optional": true,
            "type": "string"
          }
        ],
        "raw": "name: string;\r\n  version: string;\r\n  description?: string;\r\n  backend: AgentBackendConfig;\r\n  provider: ModelProviderConfig;\r\n  domainContext: DomainContextConfig;\r\n  initializer?: InitializerConfig;\r\n  schedule?: {\r\n    heartbeat?: { intervalMs: number; prompt: string; priority?: string"
      },
      {
        "name": "AgentBackendConfig",
        "fields": [
          {
            "name": "type",
            "optional": false,
            "type": "AgentBackendType"
          },
          {
            "name": "config",
            "optional": true,
            "type": "Record<string, unknown>"
          }
        ],
        "raw": "type: AgentBackendType;\r\n  /** Optional backend-specific config (e.g. executablePath for launcher). Used in materialization and persisted on instance. */\r\n  config?: Record<string, unknown>;"
      },
      {
        "name": "AgentBackendType",
        "fields": [],
        "raw": "\"cursor\" | \"claude-code\" | \"custom\""
      },
      {
        "name": "ModelProviderConfig",
        "fields": [
          {
            "name": "type",
            "optional": false,
            "type": "ModelProviderType"
          },
          {
            "name": "config",
            "optional": true,
            "type": "Record<string, unknown>"
          }
        ],
        "raw": "type: ModelProviderType;\r\n  config?: Record<string, unknown>;"
      },
      {
        "name": "ModelProviderType",
        "fields": [],
        "raw": "\"anthropic\" | \"openai\" | \"custom\""
      },
      {
        "name": "InitializerConfig",
        "fields": [
          {
            "name": "steps",
            "optional": false,
            "type": "InitializerStep[]"
          }
        ],
        "raw": "steps: InitializerStep[];"
      },
      {
        "name": "InitializerStep",
        "fields": [
          {
            "name": "type",
            "optional": false,
            "type": "string"
          },
          {
            "name": "config",
            "optional": true,
            "type": "Record<string, unknown>"
          }
        ],
        "raw": "type: string;\r\n  config?: Record<string, unknown>;"
      }
    ],
    "domainContext": [
      {
        "name": "DomainContextConfig",
        "fields": [
          {
            "name": "skills",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "prompts",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "mcpServers",
            "optional": true,
            "type": "McpServerRef[]"
          },
          {
            "name": "workflow",
            "optional": true,
            "type": "string"
          },
          {
            "name": "subAgents",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "plugins",
            "optional": true,
            "type": "string[]"
          }
        ],
        "raw": "skills?: string[];\r\n  prompts?: string[];\r\n  mcpServers?: McpServerRef[];\r\n  workflow?: string;\r\n  subAgents?: string[];\r\n  plugins?: string[];"
      },
      {
        "name": "McpServerRef",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "command",
            "optional": false,
            "type": "string"
          },
          {
            "name": "args",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "env",
            "optional": true,
            "type": "Record<string, string>"
          }
        ],
        "raw": "name: string;\r\n  command: string;\r\n  args?: string[];\r\n  env?: Record<string, string>;"
      }
    ],
    "domainComponent": [
      {
        "name": "SkillDefinition",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          },
          {
            "name": "content",
            "optional": false,
            "type": "string"
          },
          {
            "name": "tags",
            "optional": true,
            "type": "string[]"
          }
        ],
        "raw": "name: string;\r\n  description?: string;\r\n  /** The actual skill content (markdown/text rules) */\r\n  content: string;\r\n  tags?: string[];"
      },
      {
        "name": "PromptDefinition",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          }
        ],
        "raw": "name: string;\r\n  description?: string;\r\n  /** The prompt content, may contain {{variable"
      },
      {
        "name": "WorkflowDefinition",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          },
          {
            "name": "content",
            "optional": false,
            "type": "string"
          }
        ],
        "raw": "name: string;\r\n  description?: string;\r\n  /** The workflow content (e.g. workflow.md contents) */\r\n  content: string;"
      },
      {
        "name": "McpServerDefinition",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          },
          {
            "name": "command",
            "optional": false,
            "type": "string"
          },
          {
            "name": "args",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "env",
            "optional": true,
            "type": "Record<string, string>"
          }
        ],
        "raw": "name: string;\r\n  description?: string;\r\n  command: string;\r\n  args?: string[];\r\n  env?: Record<string, string>;"
      },
      {
        "name": "PluginDefinition",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          },
          {
            "name": "type",
            "optional": false,
            "type": "npm package, local file, or JSON config */ type: \"npm\" | \"file\" | \"config\""
          },
          {
            "name": "npm",
            "optional": false,
            "type": "package specifier (e.g. \"@anthropic/memory\"). For file: relative path. */ source?: string"
          },
          {
            "name": "config",
            "optional": true,
            "type": "Record<string, unknown>"
          },
          {
            "name": "enabled",
            "optional": true,
            "type": "boolean"
          }
        ],
        "raw": "name: string;\r\n  description?: string;\r\n  /** Plugin type: npm package, local file, or JSON config */\r\n  type: \"npm\" | \"file\" | \"config\";\r\n  /** For npm: package specifier (e.g. \"@anthropic/memory\"). For file: relative path. */\r\n  source?: string;\r\n  /** Plugin-specific configuration */\r\n  config?: Record<string, unknown>;\r\n  /** Whether this plugin is enabled by default */\r\n  enabled?: boolean;"
      }
    ],
    "source": [
      {
        "name": "SourceConfig",
        "fields": [],
        "raw": "| GitHubSourceConfig\r\n  | LocalSourceConfig"
      },
      {
        "name": "GitHubSourceConfig",
        "fields": [
          {
            "name": "type",
            "optional": false,
            "type": "\"github\""
          },
          {
            "name": "url",
            "optional": false,
            "type": "string"
          },
          {
            "name": "branch",
            "optional": true,
            "type": "string"
          }
        ],
        "raw": "type: \"github\";\r\n  url: string;\r\n  branch?: string;"
      },
      {
        "name": "LocalSourceConfig",
        "fields": [
          {
            "name": "type",
            "optional": false,
            "type": "\"local\""
          },
          {
            "name": "path",
            "optional": false,
            "type": "string"
          }
        ],
        "raw": "type: \"local\";\r\n  path: string;"
      },
      {
        "name": "SourceEntry",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "config",
            "optional": false,
            "type": "SourceConfig"
          },
          {
            "name": "syncedAt",
            "optional": true,
            "type": "string"
          }
        ],
        "raw": "name: string;\r\n  config: SourceConfig;\r\n  syncedAt?: string;"
      },
      {
        "name": "PackageManifest",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "version",
            "optional": true,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          },
          {
            "name": "components",
            "optional": true,
            "type": "{ skills?: string[]"
          },
          {
            "name": "prompts",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "mcp",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "workflows",
            "optional": true,
            "type": "string[]"
          }
        ],
        "raw": "name: string;\r\n  version?: string;\r\n  description?: string;\r\n  components?: {\r\n    skills?: string[];\r\n    prompts?: string[];\r\n    mcp?: string[];\r\n    workflows?: string[];"
      },
      {
        "name": "PresetDefinition",
        "fields": [
          {
            "name": "name",
            "optional": false,
            "type": "string"
          },
          {
            "name": "description",
            "optional": true,
            "type": "string"
          },
          {
            "name": "skills",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "prompts",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "mcpServers",
            "optional": true,
            "type": "string[]"
          },
          {
            "name": "workflows",
            "optional": true,
            "type": "string[]"
          }
        ],
        "raw": "name: string;\r\n  description?: string;\r\n  skills?: string[];\r\n  prompts?: string[];\r\n  mcpServers?: string[];\r\n  workflows?: string[];"
      }
    ]
  },
  "enums": {
    "agent": [
      {
        "name": "AgentStatus",
        "values": [
          "created",
          "starting",
          "running",
          "stopping",
          "stopped",
          "error",
          "crashed"
        ]
      },
      {
        "name": "LaunchMode",
        "values": [
          "direct",
          "acp-background",
          "acp-service",
          "one-shot"
        ]
      },
      {
        "name": "ProcessOwnership",
        "values": [
          "managed",
          "external"
        ]
      },
      {
        "name": "WorkspacePolicy",
        "values": [
          "persistent",
          "ephemeral"
        ]
      }
    ]
  }
}
