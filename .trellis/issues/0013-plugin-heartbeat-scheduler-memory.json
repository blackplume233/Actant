{
  "id": 13,
  "title": "Plugin 体系设计（heartbeat/scheduler/memory 可插拔）",
  "status": "open",
  "labels": [
    "architecture",
    "core",
    "feature",
    "priority:P2"
  ],
  "milestone": "mid-term",
  "body": "## 目标\n\n设计可插拔的 Plugin 体系，使 Agent Instance 可按需附加增强能力（心跳、调度、记忆等），而非将 Employee 作为独立概念。\n\n## 核心理念\n\nEmployee 不是独立类型，而是「acp-service + plugins」的组合：\n- direct + 无插件 = 传统 Agent\n- acp-service + heartbeat + scheduler = Employee\n- acp-background + heartbeat = 受监控的临时 Agent\n\n## 功能\n\n1. **PluginRegistry**：Agent Instance 级别的插件注册表\n2. **Plugin 接口**：onStart / onStop / onCrash / onTick 等生命周期钩子\n3. **内置插件**：\n   - HeartbeatMonitor（定时检活 + 崩溃回调）\n   - Scheduler（cron/定时触发任务）\n   - MetricsCollector（运行时统计）\n4. **模板配置**：在 AgentTemplate 中声明 plugins 字段\n\n## 依赖\n\n- #8 ProcessWatcher（HeartbeatMonitor 的基础）\n\n## 验收\n\n- Plugin 接口定义清晰\n- 至少 HeartbeatMonitor 作为首个插件实现\n- 模板中可配置 plugins",
  "author": "cursor-agent",
  "assignees": [],
  "relatedFiles": [],
  "relatedIssues": [],
  "taskRef": null,
  "githubRef": "blackplume233/AgentCraft#14",
  "closedAs": null,
  "comments": [],
  "createdAt": "2026-02-20T11:35:43",
  "updatedAt": "2026-02-20T11:35:43",
  "closedAt": null
}
